<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Miss U ü•∫</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif}
:root{
  --bg-main:
    radial-gradient(circle at center,rgba(0,0,0,.25),transparent 65%),
    radial-gradient(circle at top left,#ffd6e8,transparent 55%),
    radial-gradient(circle at bottom right,#f7b6cf,transparent 55%),
    linear-gradient(135deg,#fff0f6,#fde2ec);

  --card-bg:#ffffff;
  --text-main:#6d3a4a;
  --heading:#e75480;
  --caption-bg:rgba(255,240,246,.92);
}

body{
  min-height:100vh;
  background:var(--bg-main);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden
}


/* FILM GRAIN */
body::after{
content:"";
position:fixed;inset:0;
background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.04'/%3E%3C/svg%3E");
pointer-events:none;z-index:1
}

/* FLOATING HEARTS */
.heart{
position:fixed;bottom:-20px;font-size:16px;
animation:floatUp 9s linear infinite;
opacity:.35;pointer-events:none;z-index:2
}
@keyframes floatUp{
from{transform:translateY(0) scale(.8)}
to{transform:translateY(-120vh) scale(1.2)}
}

/* CARDS */
.card{
display:none;
background:var(--card-bg);
padding:2.8rem 2.4rem;
border-radius:28px;
width:90%;max-width:420px;
text-align:center;
box-shadow:0 30px 70px rgba(0,0,0,.25);
animation:sceneIn 1.2s cubic-bezier(.25,.8,.25,1);
z-index:3
}
.card.active{display:block}

@keyframes sceneIn{
from{opacity:0;transform:translateY(30px) scale(.95);filter:blur(6px)}
to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}
}

h1{color:var(--heading);font-size:1.9rem;margin-bottom:.9rem}
p{color:var(--text-main);font-size:1rem;margin-bottom:1.6rem;line-height:1.6}

.btn{
padding:.8rem 2rem;
background:linear-gradient(135deg,#e75480,#f08fb0);
color:#fff;border:none;border-radius:30px;
font-size:1rem;cursor:pointer;
transition:.3s
}
.btn:hover{transform:scale(1.05)}

.meter{position:relative;width:100%;height:18px;background:#f7c1d4;border-radius:20px;margin:1.6rem 0}
.fill{height:100%;width:0;background:linear-gradient(90deg,#e75480,#ff9bbd);border-radius:20px}
.dot{
position:absolute;top:50%;left:0;
width:22px;height:22px;
background:#fff;border:3px solid #e75480;
border-radius:50%;
transform:translate(-50%,-50%);
box-shadow:0 0 12px rgba(231,84,128,.6)
}

.reveal-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px}
.reveal-card{
background:linear-gradient(135deg,#f7a8c6,#fdd6e6);
padding:1.3rem;border-radius:16px;cursor:pointer
}
.reveal-card.revealed{
background:#fff;transform:scale(1.05);
box-shadow:0 12px 28px rgba(231,84,128,.3)
}
.hidden{display:none}

/* spacing fix */
#step4Btn{margin-top:1.8rem}

.envelope{
width:210px;height:130px;background:#f7a8c6;
margin:1.6rem auto;border-radius:10px;position:relative;cursor:pointer
}
.envelope::before{
content:"";position:absolute;top:0;left:0;
border-left:105px solid transparent;
border-right:105px solid transparent;
border-top:65px solid #e75480;
transform-origin:top;transition:.8s
}
.envelope.open::before{transform:rotateX(180deg)}

/* SLIDER */
.slider{
position:relative;width:90%;max-width:440px;
height:78vh;max-height:620px;
display:none;z-index:4
}

.slide{
position:absolute;inset:0;
background:var(--card-bg);border-radius:26px;
box-shadow:0 30px 70px rgba(0,0,0,.25);
display:flex;align-items:center;justify-content:center;
opacity:0;
transform:translateY(40px) scale(.96);
filter:blur(6px);
transition:1.6s cubic-bezier(.25,.8,.25,1);
overflow:hidden
}
.slide.active{
opacity:1;
transform:translateY(0) scale(1);
filter:blur(0)
}
.slide.exit{
opacity:0;
transform:translateY(-40px) scale(.94);
filter:blur(8px)
}
.slide img{width:100%;height:100%;object-fit:contain;padding:16px}

.caption{
position:absolute;
bottom:18px;left:18px;right:18px;
background:var(--caption-bg);
padding:14px 18px;border-radius:18px;
font-size:.95rem;
text-align:center;
display:flex;align-items:center;justify-content:center;
color:#5e2c3c
}

/* SLIDER INTRO */
.slider-intro{
position:fixed;
inset:0;
display:none;
align-items:center;
justify-content:center;
background:rgba(255,240,246,.9);
z-index:6;
opacity:0;
animation:introFade 3.2s ease forwards
}
.slider-intro h1{
background:#fff;
padding:1.6rem 2.2rem;
border-radius:22px;
box-shadow:0 30px 60px rgba(0,0,0,.25);
color:#e75480;
font-size:1.8rem;
text-align:center
}
@keyframes introFade{
0%{opacity:0}
15%{opacity:1}
70%{opacity:1}
100%{opacity:0;pointer-events:none}
}

.end{display:none;text-align:center;z-index:5}
.end h1{color:#e75480;font-size:2.4rem}

@media (prefers-color-scheme: dark){

  :root{
    --bg-main:
      radial-gradient(circle at center,rgba(255,255,255,.08),transparent 60%),
      radial-gradient(circle at top left,#2b0f1c,transparent 55%),
      radial-gradient(circle at bottom right,#3a1426,transparent 55%),
      linear-gradient(135deg,#0f0a0d,#1a0f15);

    --card-bg:#1c1318;
    --text-main:#e6cbd6;
    --heading:#ff8fb7;
    --caption-bg:rgba(30,20,25,.92);
  }

  body::after{
    opacity:.06; /* softer grain in dark */
  }

  .btn{
    box-shadow:0 8px 20px rgba(255,143,183,.25);
  }
}
</style>
</head>

<body>

<audio id="bgMusic" loop>
<source src="photos/song.mp3" type="audio/mpeg">
</audio>

<script>
for(let i=0;i<18;i++){
const h=document.createElement("div");
h.className="heart";h.innerText="üíó";
h.style.left=Math.random()*100+"vw";
h.style.animationDelay=Math.random()*6+"s";
document.body.appendChild(h);
}

const music=document.getElementById("bgMusic");
document.addEventListener("click",()=>{
if(music.paused){
music.volume=0;music.play();
let v=0;const f=setInterval(()=>{
v+=.02;music.volume=Math.min(v,.6);
if(v>=.6)clearInterval(f)
},120)}
},{once:true});
</script>

<div class="card active" id="step1">
<h1>Hey Dear üíó</h1>
<p>Do you even know how cute you are?</p>
<button class="btn" onclick="goToMeter()">Open My Heart</button>
</div>

<div class="card" id="step2">
<h1>Checking cuteness‚Ä¶</h1>
<div class="meter">
<div class="fill" id="fill"></div>
<div class="dot" id="dot"></div>
</div>
<p id="percent">0%</p>
</div>

<div class="card" id="step3">
<h1>‚ö† Overload</h1>
<p>Cuteness crossed <b>140%</b></p>
<button class="btn" onclick="nextStep(3,4)">Continue</button>
</div>

<div class="card" id="step4">
<h1>Little things üå∏</h1>
<p class="sub">Tap to reveal</p>
<div class="reveal-grid">
<div class="reveal-card" onclick="reveal(this,'Your smile feels warm.')">Tap ‚ú®</div>
<div class="reveal-card" onclick="reveal(this,'You make things lighter.')">Tap üíó</div>
<div class="reveal-card" onclick="reveal(this,'Your presence matters.')">Tap üå∑</div>
<div class="reveal-card" onclick="reveal(this,'You feel comforting.')">Tap üå∏</div>
<div class="reveal-card" onclick="reveal(this,'Being with you feels calm.')">Tap üíï</div>
<div class="reveal-card" onclick="reveal(this,'You feel like home.')">Tap ü´∂</div>
</div>
<button class="btn hidden" id="step4Btn" onclick="nextStep(4,5)">See More</button>
</div>

<div class="card" id="step5">
<h1>Tap to open üíå</h1>
<div class="envelope" onclick="openEnvelope()"></div>
</div>

<div class="card" id="step6">
<p>You will always be special to me.<br>No conditions. No doubt.</p>
<button class="btn" onclick="nextStep(6,'6_5')">Continue</button>
</div>

<div class="card" id="step6_5">
<p>Some moments don‚Äôt fade‚Ä¶<br>they quietly become memories üíó</p>
<button class="btn" onclick="nextStep('6_5',7)">Continue</button>
</div>

<div class="card" id="step7">
<h1>I love you ‚ù§Ô∏è</h1>
<p>This is just the beginning of our memories.</p>
<button class="btn" onclick="startSliderIntro()">Miss U ü•∫</button>
</div>

<div class="slider-intro" id="sliderIntro">
<h1>Few Beautiful moments of life with you üíó</h1>
</div>

<div class="slider" id="slider"></div>

<div class="end" id="end">
<h1>I LOVE YOU ‚ù§Ô∏è</h1>
<button class="btn" onclick="location.reload()">Restart</button>
</div>

<script>
function hideAll(){document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"))}

function goToMeter(){
hideAll();step2.classList.add("active");
let p=0;
const i=setInterval(()=>{
p+=2;
fill.style.width=Math.min(p,100)+"%";
dot.style.left=Math.min(p,100)+"%";
percent.innerText=p+"%";
if(p>=140){
clearInterval(i);
setTimeout(()=>{hideAll();step3.classList.add("active")},900)
}
},45)
}

let revealed=0;
function reveal(c,t){
if(!c.classList.contains("revealed")){
c.classList.add("revealed");c.innerText=t;
if(++revealed===6)step4Btn.classList.remove("hidden")
}
}
function nextStep(_,t){hideAll();document.getElementById("step"+t).classList.add("active")}
function openEnvelope(){
document.querySelector(".envelope").classList.add("open");
setTimeout(()=>{hideAll();step6.classList.add("active")},900)
}

/* SLIDER */
const photos = [
  { src: "photos/1.jpg",  text: "This moment still feels special üíó" },
  { src: "photos/2.jpg",  text: "I smile every time I see this" },
  { src: "photos/3.jpg",  text: "You felt so peaceful here" },
  { src: "photos/4.jpg",  text: "A memory I hold close ü´∂" },
  { src: "photos/5.jpg",  text: "This day meant more than words" },
  { src: "photos/6.jpg",  text: "Your presence made it perfect" },
  { src: "photos/7.jpg",  text: "One of my favourite moments" },
  { src: "photos/8.jpg",  text: "You look happiest here" },
  { src: "photos/9.jpg",  text: "I miss this feeling" },
  { src: "photos/10.jpg", text: "This memory stays with me ‚ù§Ô∏è" },
  { src: "photos/11.jpg", text: "Some moments live forever" },
  { src: "photos/12.jpg", text: "Still feels like yesterday" }
];

// üîÄ Shuffle the order
photos.sort(() => Math.random() - 0.5);

const slider=document.getElementById("slider");
photos.forEach(p=>{
const s=document.createElement("div");
s.className="slide";
s.innerHTML=`<img src="${p.src}"><div class="caption">${p.text}</div>`;
slider.appendChild(s)
});
const slides=document.querySelectorAll(".slide");
let idx=0;

function startSliderIntro(){
  // hide step 7 ONLY
  document.getElementById("step7").classList.remove("active");

  // show intro line
  sliderIntro.style.display="flex";

  setTimeout(()=>{
    sliderIntro.style.display="none";

    // start slider immediately after intro
    startCollege();
  },3200);
}

function startCollege(){
slider.style.display="block";
slides[idx].classList.add("active");
const it=setInterval(()=>{
slides[idx].classList.add("exit");
idx++;
if(idx>=slides.length){
clearInterval(it);
slider.style.display="none";
end.style.display="block";
return
}
slides[idx].classList.add("active")
},3600)
}
</script>
</body>
</html>